{"version":3,"sources":["context/LoginContext.js","context/TodoContext.js","server/fbase.js","server/firestore.js","components/TodoHead.js","components/TodoItem.js","components/TodoList.js","components/TodoTemplate.js","components/TodoCreate.js","context/TodoListReducer.js","routes/Home.js","routes/List.js","components/AuthForm.js","routes/Login.js","routes/User.js","components/Navigation.js","components/Router.js","App.js","index.js"],"names":["LoginContext","createContext","initialTodoList","TodoListContext","auth","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","getAuth","db","getFirestore","createTodosDateLink","getStorage","uid","dateString","Date","toLocaleDateString","replace","split","join","saveTodo","data","userObj","a","batch","writeBatch","i","length","idString","String","console","log","todoRef","doc","set","commit","alert","TodoHeadBlock","styled","div","TodoHead","today","year","month","day","dayName","weekday","useContext","undoneTodos","filter","item","done","className","Provider","value","color","size","onClick","Remove","TodoItemBlock","CheckCircle","props","css","Text","TodoItem","id","text","dispatch","e","type","payload","TodoListBlock","TodoList","map","TodoTemplateBlock","TodoTemplate","children","CircleButton","button","open","boxUp","keyframes","boxDown","InsertFormPositioner","InsertForm","form","Input","input","TodoCreate","useState","setOpen","setText","nextId","inputRef","useRef","handleKeyPress","event","key","preventDefault","current","onTransitionEnd","focus","autoFocus","placeholder","onKeyPress","onChange","target","tabIndex","ref","initialState","saveItems","newItems","localStorage","setItem","JSON","stringify","reducer","state","action","nextState","concat","Home","useReducer","useEffect","q","query","collection","onSnapshot","snapshot","todos","docs","parseInt","at","localData","parse","getItem","error","getTodos","ListTemplate","List","AuthContainer","AuthInput","AuthSubmit","AuthSwitch","span","AuthError","AuthForm","email","setEmail","password","setPassword","newAccount","setNewAccount","setError","name","onSubmit","createUserWithEmailAndPassword","signInWithEmailAndPassword","message","required","prev","LoginContainer","Title","AuthBtns","AuthBtn","Login","onSocialClick","provider","GoogleAuthProvider","signInWithPopup","code","customData","fetchSignInMethodsForEmail","methods","UserTemplate","User","history","useNavigate","signOut","Nav","nav","Li","li","Navigation","to","AppRouter","isLoggedIn","Boolean","exact","path","element","App","init","setInit","setUserObj","onAuthStateChanged","user","displayName","refreshUser","currentUser","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.85b0468d.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\nconst initialLogin = \"\";\r\n\r\nconst LoginContext = createContext(initialLogin);\r\n\r\nexport default LoginContext;\r\n","import { createContext } from \"react\"\r\n\r\n// 초기 데이터\r\n// 상위 provider가 없는데 하위 컴포넌트가 이걸 읽으려고 할 때 \r\n// 앱 크래시를 막는 방어 데이터\r\nconst initialTodoList = []\r\n\r\n// 초기값이 []인 컨텍스트 생성\r\nconst TodoListContext = createContext(initialTodoList)\r\n\r\nexport default TodoListContext","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\n// TODO: Add SDKs for Firebase products that you want to use\r\n// https://firebase.google.com/docs/web/setup#available-libraries\r\n\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\r\n  appId: process.env.REACT_APP_APP_ID,\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nexport const auth = getAuth();\r\nexport const db = getFirestore();\r\nexport const storage = getStorage();\r\nexport default app;\r\n","import {\r\n  collection,\r\n  doc,\r\n  onSnapshot,\r\n  query,\r\n  writeBatch,\r\n} from \"@firebase/firestore\";\r\nimport { db } from \"server/fbase\";\r\n\r\nconst createTodosDateLink = (uid) => {\r\n  const today = new Date();\r\n  const dateString = today\r\n    .toLocaleDateString(\"ko-KR\")\r\n    .replace(/\\./g, \"\")\r\n    .split(\" \")\r\n    .join(\"\");\r\n  return `todos/${uid}/${dateString}`;\r\n};\r\n\r\n// fbase에서 저장된 todos 가져오기\r\nexport const getTodos = (dispatch, userObj, nextId) => {\r\n  const q = query(collection(db, createTodosDateLink(userObj.uid)));\r\n  try {\r\n    onSnapshot(q, (snapshot) => {\r\n      const todos = snapshot.docs.map((doc) => ({\r\n        ...doc.data(),\r\n        id: parseInt(doc.id),\r\n      }));\r\n\r\n      if (todos.length !== 0) {\r\n        dispatch({ type: \"SAVE\", payload: todos });\r\n        nextId.current = todos.at(-1).id + 1;\r\n      } else {\r\n        const localData = JSON.parse(localStorage.getItem(\"data\")) || [];\r\n        dispatch({ type: \"SAVE\", payload: localData });\r\n        nextId.current = localData.length === 0 ? 1 : localData.at(-1).id + 1;\r\n      }\r\n    });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n//export const deleteTodo = async (creatorId, id) => await deleteDoc(doc(db, `${creatorId}/${id}`));\r\nexport const saveTodo = async (data, userObj) => {\r\n  const batch = writeBatch(db);\r\n  for (let i = 1; i < data.length; i++) {\r\n    const idString = String(i + 1);\r\n    console.log(idString);\r\n\r\n    const todoRef = doc(db, createTodosDateLink(userObj.uid), idString);\r\n    batch.set(todoRef, data[i]);\r\n  }\r\n  await batch.commit();\r\n  alert(\"서버에 저장 완료!\");\r\n};\r\n\r\n//export const clearTodo = async (creatorId) => await deleteDoc(doc(db, creatorId));\r\n","import { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport TodoListContext from \"../context/TodoContext\";\r\nimport { MdSave } from \"react-icons/md\";\r\nimport { IconContext } from \"react-icons\";\r\nimport { saveTodo } from \"server/firestore\";\r\nimport LoginContext from \"context/LoginContext\";\r\n\r\nconst TodoHeadBlock = styled.div`\r\n  padding-top: 48px;\r\n  padding-left: 32px;\r\n  padding-right: 32px;\r\n  padding-bottom: 20px;\r\n\r\n  border-bottom: 1px solid #e9ecef;\r\n\r\n  h1 {\r\n    margin: 0;\r\n    font-size: 36px;\r\n    color: #343a40;\r\n  }\r\n\r\n  .day {\r\n    margin-top: 4px;\r\n    color: #868e96;\r\n    font-size: 21px;\r\n  }\r\n\r\n  .task-left {\r\n    color: #7c83fd;\r\n    font-size: 18px;\r\n    margin-top: 3px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .task {\r\n    display: flex;\r\n    margin-top: 40px;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n  }\r\n\r\n  .upload{\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  .upload-text{\r\n    color: #7c83fd;\r\n    font-size: 18px;\r\n    margin-top:3px;\r\n  }\r\n  .upload-button{\r\n    cursor: pointer\r\n  }\r\n`;\r\n\r\n\r\n\r\nfunction TodoHead() {\r\n  const today = new Date();\r\n  const dateString = today.toLocaleDateString(\"ko-KR\", {\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\"\r\n  })\r\n  const dayName = today.toLocaleDateString(\"ko-KR\", { weekday: \"long\" })\r\n\r\n  const { data } = useContext(TodoListContext)\r\n  const { userObj } = useContext(LoginContext)\r\n  const undoneTodos = data.filter((item) => item.done === false)\r\n\r\n  const onSaveFirestore = () => {\r\n    console.log(data, userObj)\r\n    saveTodo(data, userObj)\r\n  }\r\n\r\n  return (\r\n    <TodoHeadBlock>\r\n      <h1>{dateString}</h1>\r\n      <div className=\"day\">{dayName}</div>\r\n      <div className=\"task\">\r\n        <div className=\"task-left\">{undoneTodos.length}개 남음</div>\r\n        <div className=\"upload\">\r\n          <div className=\"upload-text\">서버에 저장</div>\r\n          <div className=\"upload-button\">\r\n            <IconContext.Provider value={{\r\n              color: \"#142F43\", size: \"2rem\"\r\n            }} >\r\n              <MdSave onClick={onSaveFirestore} />\r\n            </IconContext.Provider>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </TodoHeadBlock>\r\n  );\r\n}\r\n\r\nexport default TodoHead;\r\n","import styled, { css } from \"styled-components\";\r\nimport { MdDone, MdDelete } from \"react-icons/md\";\r\nimport { useContext } from \"react\";\r\nimport TodoListContext from \"../context/TodoContext\";\r\n\r\nconst Remove = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  color: #8ca1a5;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: #ff6b6b;\r\n  }\r\n  display: none;\r\n`;\r\n\r\nconst TodoItemBlock = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n\r\n  &:hover {\r\n    ${Remove} {\r\n      display: initial;\r\n    }\r\n  }\r\n`;\r\n\r\nconst CheckCircle = styled.div`\r\n  width: 32px;\r\n  height: 32px;\r\n  border-radius: 16px;\r\n  border: 2px solid #787a91;\r\n  font-size: 24px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 20px;\r\n  cursor: pointer;\r\n\r\n  ${(props) =>\r\n    props.done &&\r\n    css`\r\n      border: 2px solid #297f87;\r\n      color: #297f87;\r\n    `}\r\n`;\r\n\r\nconst Text = styled.div`\r\n  flex: 1;\r\n  font-size: 21px;\r\n  color: #495057;\r\n  ${(props) =>\r\n    props.done &&\r\n    css`\r\n      color: #787a91;\r\n      text-decoration: line-through;\r\n    `}\r\n`;\r\nconst TodoItem = ({ id, done, text }) => {\r\n  const { dispatch } = useContext(TodoListContext);\r\n\r\n  const onRemoveClick = (e) => {\r\n    dispatch({ type: \"DELETE\", payload: { id } });\r\n  };\r\n  const onCircleClick = (e) => {\r\n    dispatch({ type: \"DONE\", payload: { id } });\r\n  };\r\n  return (\r\n    <TodoItemBlock>\r\n      <CheckCircle done={done} onClick={onCircleClick}>\r\n        {done && <MdDone />}\r\n      </CheckCircle>\r\n      <Text done={done}>{text}</Text>\r\n      <Remove onClick={onRemoveClick}>\r\n        <MdDelete />\r\n      </Remove>\r\n    </TodoItemBlock>\r\n  );\r\n};\r\n\r\nexport default TodoItem;\r\n","import { useContext } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport TodoListContext from \"../context/TodoContext\";\r\nimport TodoItem from \"./TodoItem\";\r\n\r\nconst TodoListBlock = styled.div`\r\n  flex: 1;\r\n  padding: 20px 32px;\r\n  padding-bottom: 48px;\r\n  overflow-y: auto;\r\n  background: #b5deff;\r\n  border-bottom-left-radius: 15px;\r\n  border-bottom-right-radius: 15px;\r\n\r\n  &::-webkit-scrollbar {\r\n    width: 15px;\r\n    background-color: darkgrey;\r\n    border-bottom-right-radius: 10px;\r\n  }\r\n  &::-webkit-scrollbar-thumb {\r\n    background-color: #7c83fd;\r\n    border: 3px solid transparent;\r\n    background-clip: content-box;\r\n    border-bottom-right-radius: 10px;\r\n  }\r\n`;\r\n\r\n// context를 사용하는 consumer\r\n// useContext로 context를 지정해두면 이 앱 밖에서 provider를 찾음\r\nconst TodoList = () => {\r\n  const { data } = useContext(TodoListContext);\r\n  return (\r\n    <TodoListBlock>\r\n      {data.map((item) => {\r\n        return (\r\n          <TodoItem\r\n            text={item.text}\r\n            done={item.done}\r\n            id={item.id}\r\n            key={item.id}\r\n          ></TodoItem>\r\n        );\r\n      })}\r\n    </TodoListBlock>\r\n  );\r\n};\r\n\r\nexport default TodoList;\r\n","import styled from \"styled-components\";\r\n\r\nconst TodoTemplateBlock = styled.div`\r\n  width: 512px;\r\n  height: 768px;\r\n\r\n  position: relative;\r\n  background: white;\r\n  border-radius: 16px;\r\n  box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);\r\n\r\n  margin: 0 auto;\r\n\r\n  margin-bottom: 32px;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const TodoTemplate = ({ children }) => {\r\n  return <TodoTemplateBlock>{children}</TodoTemplateBlock>;\r\n};\r\n","import { useContext, useRef, useState } from \"react\";\r\nimport styled, { css, keyframes } from \"styled-components\";\r\nimport { MdAdd } from \"react-icons/md\";\r\nimport TodoListContext from \"../context/TodoContext\";\r\n\r\nconst CircleButton = styled.button`\r\n  background: #38d9a9;\r\n  &:hover {\r\n    background: #63e6be;\r\n  }\r\n  &:active {\r\n    background: #63e6be;\r\n  }\r\n  z-index: 5;\r\n  cursor: pointer;\r\n  width: 80px;\r\n  height: 80px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 60px;\r\n  position: absolute;\r\n  left: 50%;\r\n  bottom: 0px;\r\n  transform: translate(-50%, 50%);\r\n  color: white;\r\n  border-radius: 50%;\r\n  border: none;\r\n  outline: none;\r\n\r\n  transition: 0.125s all ease-in;\r\n  ${(props) =>\r\n    props.open &&\r\n    css`\r\n      background: #ff6b6b;\r\n      &:hover {\r\n        background: #ff8787;\r\n      }\r\n      &:active {\r\n        background: #fa5252;\r\n      }\r\n      transform: translate(-50%, 50%) rotate(45deg);\r\n    `}\r\n`;\r\n\r\nconst boxUp = keyframes`\r\n  from {\r\n    transform: translateY(20px);\r\n    opacity: 0;\r\n  }\r\n\r\n  to {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nconst boxDown = keyframes`\r\n  from {\r\n    transform: translateY(0);\r\n    opacity: 1;\r\n  }\r\n\r\n  to {\r\n    transform: translateY(20px);\r\n    opacity: 0;\r\n  }\r\n`;\r\n\r\nconst InsertFormPositioner = styled.div`\r\n  width: 100%;\r\n  bottom: 0;\r\n  left: 0;\r\n  position: absolute;\r\n  visibility: ${(props) => (props.open ? \"visible\" : \"hidden\")};\r\n  animation: ${(props) => (props.open ? boxUp : boxDown)} 0.4s linear;\r\n  transition: visibility 0.4s ease-in;\r\n`;\r\n\r\nconst InsertForm = styled.form`\r\n  background: #f8f9fa;\r\n  padding-left: 32px;\r\n  padding-top: 32px;\r\n  padding-right: 32px;\r\n  padding-bottom: 72px;\r\n\r\n  border-bottom-left-radius: 15px;\r\n  border-bottom-right-radius: 10px;\r\n\r\n  border-top: 1px solid #e9ecef;\r\n`;\r\n\r\nconst Input = styled.input`\r\n  padding: 12px;\r\n  border-radius: 4px;\r\n  border: 1px solid #dee2e6;\r\n  width: 100%;\r\n  outline: none;\r\n  font-size: 18px;\r\n  box-sizing: border-box;\r\n  color: #343a40;\r\n`;\r\n\r\nconst TodoCreate = () => {\r\n  const [open, setOpen] = useState(true);\r\n  const onToggle = () => {\r\n    setOpen(!open);\r\n  };\r\n  const [text, setText] = useState(\"\");\r\n  const { dispatch, nextId } = useContext(TodoListContext);\r\n\r\n  const inputRef = useRef(null);\r\n\r\n  const handleKeyPress = async (event) => {\r\n    if (event.key === \"Enter\") {\r\n      event.preventDefault();\r\n      dispatch({\r\n        type: \"ADD\",\r\n        payload: { text: text, done: false, id: nextId.current, },\r\n      });\r\n\r\n      nextId.current++;\r\n      setOpen(false);\r\n      setText(\"\");\r\n    }\r\n  };\r\n\r\n  const onChange = (event) => {\r\n    const {\r\n      target: { value },\r\n    } = event;\r\n    setText(value);\r\n  };\r\n\r\n  const onTransitionEnd = () => {\r\n    inputRef.current && inputRef.current.focus();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <InsertFormPositioner open={open} onTransitionEnd={onTransitionEnd}>\r\n        <InsertForm>\r\n          <Input\r\n            autoFocus\r\n            placeholder=\"오늘은 뭐하지\"\r\n            onKeyPress={handleKeyPress}\r\n            value={text}\r\n            onChange={onChange}\r\n            tabIndex=\"0\"\r\n            ref={inputRef}\r\n          ></Input>\r\n        </InsertForm>\r\n      </InsertFormPositioner>\r\n\r\n      <CircleButton onClick={onToggle} tabIndex=\"0\" open={open}>\r\n        <MdAdd />\r\n      </CircleButton>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TodoCreate;\r\n","// Reducer : 데이터를 안전하게 조작하기 위한 구조\r\n\r\n// initial state : 초기 상태\r\nexport const initialState = [];\r\n\r\nconst saveItems = (newItems) => {\r\n  localStorage.setItem(\"data\", JSON.stringify(newItems));\r\n}\r\n\r\n// state : 상태, 데이터\r\n// ex) 할 일 : { id: 1, text: \"놀기\", done: false },\r\n// action : 상태를 ~~게 바꿈\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"ADD\": {\r\n      const nextState = state.concat(action.payload);\r\n      saveItems(nextState);\r\n      return nextState;\r\n    }\r\n    case \"DELETE\": {\r\n      const nextState = state.filter((item) => item.id !== action.payload.id);\r\n      saveItems(nextState);\r\n      return nextState;\r\n    }\r\n    case \"DONE\": {\r\n      const nextState = state.map((item) =>\r\n        item.id === action.payload.id ? { ...item, done: !item.done } : item\r\n      );\r\n      saveItems(nextState);\r\n      return nextState;\r\n    }\r\n    case \"SAVE\": {\r\n      const nextState = [...action.payload];\r\n      saveItems(nextState);\r\n      return nextState;\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import TodoHead from \"components/TodoHead\";\r\nimport TodoList from \"components/TodoList\";\r\nimport { TodoTemplate } from \"components/TodoTemplate\";\r\nimport TodoListContext from \"context/TodoContext\";\r\nimport TodoCreate from \"components/TodoCreate\";\r\nimport { useContext, useEffect, useReducer, useRef } from \"react\";\r\nimport reducer, { initialState } from \"context/TodoListReducer\";\r\n\r\nimport LoginContext from \"context/LoginContext\";\r\nimport { getTodos } from \"server/firestore\";\r\n\r\nconst Home = () => {\r\n\r\n  const [data, dispatch] = useReducer(reducer, initialState);\r\n  const { userObj } = useContext(LoginContext);\r\n  let nextId = useRef(1);\r\n\r\n  useEffect(() => {\r\n    getTodos(dispatch, userObj, nextId)\r\n  }, [userObj])\r\n\r\n  return (\r\n    <>\r\n      <TodoTemplate>\r\n        <TodoListContext.Provider value={{ dispatch, data, nextId }}>\r\n          <TodoHead></TodoHead>\r\n          <TodoList></TodoList>\r\n          <TodoCreate></TodoCreate>\r\n        </TodoListContext.Provider>\r\n      </TodoTemplate>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import styled from \"styled-components\";\r\n\r\nconst ListTemplate = styled.div`\r\ndisplay: flex;\r\nflex-direction: column;\r\nalign-items: center;\r\n`;\r\n\r\nconst List = () => {\r\n  return (\r\n    <ListTemplate>\r\n      <h2 className=\"title\">List</h2>\r\n    </ListTemplate>\r\n  );\r\n};\r\n\r\nexport default List;\r\n","import {\r\n  createUserWithEmailAndPassword,\r\n  signInWithEmailAndPassword,\r\n} from \"@firebase/auth\";\r\nimport { auth } from \"server/fbase\";\r\nimport React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst AuthContainer = styled.form`\r\n  width: 100%;\r\n  max-width: 320px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst AuthInput = styled.input`\r\n  max-width: 320px;\r\n  width: 100%;\r\n  padding: 10px;\r\n  border-radius: 30px;\r\n  background-color: rgba(255, 255, 255, 1);\r\n  margin-bottom: 10px;\r\n  font-size: 14px;\r\n  color: black;\r\n  box-sizing: content-box;\r\n`;\r\n\r\nconst AuthSubmit = styled.input`\r\n  max-width: 320px;\r\n  width: 100%;\r\n  padding: 10px;\r\n  border-radius: 30px;\r\n  background-color: rgba(255, 255, 255, 1);\r\n  margin-bottom: 10px;\r\n  font-size: 14px;\r\n  color: black;\r\n  box-sizing: content-box;\r\n  text-align: center;\r\n  background: #ffab4c;\r\n  color: white;\r\n  margin-top: 10px;\r\n  box-sizing: content-box;\r\n  cursor: pointer;\r\n`;\r\n\r\nconst AuthSwitch = styled.span`\r\n  color: #ffab4c;\r\n  cursor: pointer;\r\n  margin-top: 10px;\r\n  margin-bottom: 50px;\r\n  display: block;\r\n  font-size: 14px;\r\n  text-decoration: underline;\r\n`;\r\n\r\nconst AuthError = styled.span`\r\n  color: tomato;\r\n  text-align: center;\r\n  font-weight: 500;\r\n  font-size: 12px;\r\n`;\r\n\r\nconst AuthForm = () => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [newAccount, setNewAccount] = useState(true);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const onChange = (event) => {\r\n    const {\r\n      target: { name, value },\r\n    } = event;\r\n    if (name === \"email\") {\r\n      setEmail(value);\r\n    } else if (name === \"password\") {\r\n      setPassword(value);\r\n    }\r\n  };\r\n  const onSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      if (newAccount) {\r\n        // create account\r\n        await createUserWithEmailAndPassword(auth, email, password);\r\n      } else {\r\n        // log in\r\n        await signInWithEmailAndPassword(auth, email, password);\r\n      }\r\n    } catch (error) {\r\n      setError(error.message);\r\n    }\r\n  };\r\n\r\n  const toggleAccount = () => {\r\n    setNewAccount((prev) => !prev);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AuthContainer onSubmit={onSubmit}>\r\n        <AuthInput\r\n          name=\"email\"\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          required\r\n          value={email}\r\n          onChange={onChange}\r\n        />\r\n        <AuthInput\r\n          name=\"password\"\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          required\r\n          value={password}\r\n          onChange={onChange}\r\n        />\r\n        <AuthSubmit\r\n          type=\"submit\"\r\n          value={newAccount ? \"Create Account\" : \"Sign In\"}\r\n        />\r\n        {error && <AuthError>{error}</AuthError>}\r\n      </AuthContainer>\r\n      <AuthSwitch onClick={toggleAccount}>\r\n        {newAccount ? \"Sign In\" : \"Create Account\"}\r\n      </AuthSwitch>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AuthForm;\r\n","import { auth } from \"server/fbase\";\r\nimport AuthForm from \"components/AuthForm\";\r\nimport React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport {\r\n  fetchSignInMethodsForEmail,\r\n  GoogleAuthProvider,\r\n  signInWithPopup,\r\n} from \"@firebase/auth\";\r\n\r\nimport { FcGoogle, FcIdea } from \"react-icons/fc\";\r\n\r\nconst LoginContainer = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 90vh;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst Title = styled.div`\r\n  display: flex;\r\n  font-size: 1.5rem;\r\n  margin-bottom: 20px;\r\n`;\r\n\r\nconst AuthBtns = styled.div`\r\n  display: flex;\r\n  width: 100%;\r\n  max-width: 320px;\r\n  justify-content: center;\r\n`;\r\n\r\nconst AuthBtn = styled.button`\r\n  cursor: pointer;\r\n  border-radius: 20px;\r\n  border: none;\r\n  padding: 10px 10px;\r\n  font-size: 1.3rem;\r\n  text-align: center;\r\n  background: white;\r\n  cursor: pointer;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst Login = () => {\r\n  const [error, setError] = useState(\"\");\r\n  const onSocialClick = async (event) => {\r\n    const {\r\n      target: { name },\r\n    } = event;\r\n    let provider;\r\n    if (name === \"google\") {\r\n      provider = new GoogleAuthProvider();\r\n    }\r\n    try {\r\n      await signInWithPopup(auth, provider);\r\n    } catch (error) {\r\n      if (error.code === \"auth/account-exists-with-different-credential\") {\r\n        const {\r\n          customData: { email },\r\n        } = error;\r\n        const methods = await fetchSignInMethodsForEmail(auth, email);\r\n        setError(`${email} is already ${methods[0]} account`);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <LoginContainer>\r\n      <Title>\r\n        <FcIdea />\r\n        <div>오늘 할 일을 기록해봐요</div>\r\n      </Title>\r\n\r\n      <AuthForm />\r\n      <AuthBtns>\r\n        {error && <span className=\"authError\">{error}</span>}\r\n        <AuthBtn onClick={onSocialClick} name=\"google\">\r\n          <div>구글로 로그인</div>\r\n          <FcGoogle />\r\n        </AuthBtn>\r\n      </AuthBtns>\r\n    </LoginContainer>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import { useNavigate } from \"react-router-dom\";\r\nimport { auth } from \"server/fbase\";\r\nimport styled from \"styled-components\";\r\n\r\nconst UserTemplate = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n`;\r\n\r\nconst User = () => {\r\n  const history = useNavigate();\r\n  const onLogOutClick = () => {\r\n    auth.signOut();\r\n    history(\"/\");\r\n  };\r\n  return (\r\n    <UserTemplate>\r\n      <h2 className=\"title\">User</h2>\r\n      <span className=\"formBtn cancelBtn logOut\" onClick={onLogOutClick}>\r\n        Log Out\r\n      </span>\r\n    </UserTemplate>\r\n  );\r\n};\r\n\r\nexport default User;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { MdViewList, MdHome, MdPerson } from \"react-icons/md\";\r\nimport { IconContext } from \"react-icons\";\r\nimport styled from \"styled-components\";\r\n\r\nconst Nav = styled.nav`\r\n  display: flex;\r\n  justify-content: center;\r\n  width: 512px;\r\n  margin: 0 auto;\r\n  margin-top: 32px;\r\n  margin-bottom: 15px;\r\n  align-self: center;\r\n`;\r\n\r\nconst Li = styled.li`\r\n  width: 512px;\r\n  display: flex;\r\n  justify-content: space-around;\r\n`;\r\n\r\nconst Navigation = () => (\r\n  <Nav>\r\n    <ul>\r\n      <IconContext.Provider value={{ color: \"#FF9B6A\", size: \"2em\" }}>\r\n        <Li>\r\n          <Link to=\"/list\">\r\n            <MdViewList />\r\n          </Link>\r\n          <Link to=\"/\">\r\n            <MdHome />\r\n          </Link>\r\n          <Link to=\"/user\">\r\n            <MdPerson />\r\n          </Link>\r\n        </Li>\r\n      </IconContext.Provider>\r\n    </ul>\r\n  </Nav>\r\n);\r\n\r\nexport default Navigation;\r\n","import LoginContext from \"context/LoginContext\";\r\nimport React, { useContext } from \"react\";\r\nimport { HashRouter as Router, Route, Routes } from \"react-router-dom\";\r\nimport Home from \"routes/Home\";\r\nimport List from \"routes/List\";\r\nimport Login from \"routes/Login\";\r\nimport User from \"routes/User\";\r\nimport Navigation from \"./Navigation\";\r\n\r\nconst AppRouter = () => {\r\n  const { userObj } = useContext(LoginContext);\r\n  const isLoggedIn = Boolean(userObj);\r\n\r\n  return (\r\n    <Router>\r\n      {isLoggedIn && <Navigation />}\r\n      <Routes>\r\n        {isLoggedIn ? (\r\n          <>\r\n            <Route exact path=\"/\" element={<Home />}></Route>\r\n            <Route exact path=\"/list\" element={<List />}></Route>\r\n            <Route exact path=\"/user\" element={<User />}></Route>\r\n          </>\r\n        ) : (\r\n          <Route exact path=\"/\" element={<Login />}></Route>\r\n        )}\r\n      </Routes>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default AppRouter;\r\n","import \"App.css\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport AppRouter from \"components/Router\";\r\nimport LoginContext from \"context/LoginContext\";\r\nimport { onAuthStateChanged } from \"@firebase/auth\";\r\nimport { auth } from \"server/fbase\";\r\n\r\nfunction App() {\r\n  const [init, setInit] = useState(false);\r\n  const [userObj, setUserObj] = useState(null);\r\n\r\n  useEffect(() => {\r\n    onAuthStateChanged(auth, (user) => {\r\n      if (user) {\r\n        // signed in\r\n        const name = user.displayName === null ? \"뉴비\" : user.displayName;\r\n        setUserObj({\r\n          displayName: name,\r\n          uid: user.uid,\r\n        });\r\n      } else {\r\n        setUserObj(null);\r\n      }\r\n      setInit(true);\r\n    });\r\n  }, []);\r\n  const refreshUser = () => {\r\n    const user = auth.currentUser;\r\n    setUserObj({\r\n      displayName: user.displayName,\r\n      uid: user.uid,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <LoginContext.Provider\r\n        value={{\r\n          refreshUser,\r\n          userObj,\r\n        }}\r\n      >\r\n        {init ? <AppRouter /> : \"Initializing...\"}\r\n      </LoginContext.Provider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}